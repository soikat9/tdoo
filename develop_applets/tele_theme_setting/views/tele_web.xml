<?xml version="1.0" encoding="UTF-8"?>
<tele>

    <template id="tele_theme_setting.bootstrap" inherit_id="web.webclient_bootstrap">

        <xpath expr="//t[@t-set='head_web']" position="after">
            <style id="tele_mode_style_id" />
            <style id="tele_style_id" />
            <style id="tele_preview_mode_style_id" />
            <style id="tele_preview_style_id" />
        </xpath>

        <!-- add the style id -->
        <xpath expr="//t[@t-set='head_web']" position="inside">
        
            <link id='font_link' rel="stylesheet" type="text/css" t-attf-href="{{request.env['tele_theme_setting.setting_manager'].sudo().get_font_link()}}" />

            <script type="text/javascript">
                tele.define('tele_theme_setting.theme_setting', function (require) {
                    "use strict";
                    return <t t-out="json.dumps(request.env['tele_theme_setting.setting_manager'].sudo().get_user_setting())"/>;
                })
            </script>
        </xpath>

    </template>

    <template id="layout" inherit_id="web.layout">
        <xpath expr="//link[@rel='shortcut icon']" position="before">
            <t t-if="not website">
                <t t-set="x_icon" t-value="'/tele_theme_setting/favicon'"/>
            </t>
        </xpath>
    </template>

</tele>