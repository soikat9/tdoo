<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="tele_backend_theme_ent.ControlPanel" t-inherit="web_enterprise._ControlPanel" t-inherit-mode="extension" owl="1">
        <xpath expr="//nav[hasclass('o_cp_switch_buttons')]" position="replace" />
        <xpath expr="//div[hasclass('o_cp_bottom_right')]//ActionMenus" position="replace" />
        <xpath expr="//div[hasclass('o_cp_searchview')]" position="after">
            <nav t-if="props.views and props.views.length gt 1" class="btn-group o_cp_switch_buttons" t-att-class="{ show: state.showViewSwitcher }" role="toolbar" aria-label="View switcher">
                <button type="button" class="btn btn-link btn-sm" t-attf-aria-expanded="{{ state.showViewSwitcher ? 'true' : 'false' }}" t-on-click="state.showViewSwitcher = !state.showViewSwitcher">
                    <span class="btn btn-secondary fa fa-lg o_switch_view fa-th-large" t-att-class="props.views.find(v => v.type === env.view.type).icon" />
                </button>
                <ul t-if="state.showViewSwitcher" class="dropdown-menu dropdown-menu-right list-inline" t-att-class="{ show: state.showViewSwitcher }">
                    <li class="oe_view_btn" t-foreach="props.views" t-as="view" t-key="view.type">
                        <t t-call="web.ViewSwitcherButton" />
                    </li>
                </ul>
            </nav>
        </xpath>
        <xpath expr="//div[hasclass('o_cp_searchview')]" position="replace">
            <div class="o_cp_searchview" t-att-class="{ o_searchview_quick: state.showSearchBar or !props.withBreadcrumbs }" role="search" t-ref="searchView">
                <div t-if="props.withSearchBar" class="o_searchview" role="search" aria-autocomplete="list">
                    <button type="button" class="o_enable_searchview btn btn-link fa fa-search" t-on-click="state.showMobileSearch = !state.showMobileSearch" />
                </div>
            </div>
        </xpath>
        <xpath expr="//div[hasclass('o_cp_top')]" position="inside">
            <ActionMenus t-if="props.actionMenus and props.actionMenus.items" t-props="props.actionMenus" />
        </xpath>
        <xpath expr="//div[hasclass('o_cp_bottom_left')]" position="before">
            <button t-if="additionalContent and additionalContent.buttons" class="o_main_cp_buttons btn btn-primary fa fa-bars" t-on-click.stop="_onClickCpButtons">Cancel</button>
        </xpath>
    </t>
    <t t-name="tele_backend_theme_ent.ControlPanel" t-inherit="web_enterprise.ControlPanel" t-inherit-mode="extension" owl="1">
        <xpath expr="//t[@t-if='env.config.viewSwitcherEntries and env.config.viewSwitcherEntries.length > 1']" position="replace" />
        <xpath expr="//div[hasclass('o_cp_bottom_left')]" position="before">
            <button t-if="isMobileView" class="o_main_cp_buttons btn btn-primary fa fa-bars" t-on-click.stop="_onClickCpButtons">Cancel</button>
        </xpath>
        <xpath expr="//div[hasclass('o_cp_top')]" position="inside">
            <t t-if="env.config.viewSwitcherEntries and env.config.viewSwitcherEntries.length > 1">
                <nav class="btn-group o_cp_switch_buttons">
                    <t t-set="view" t-value="env.config.viewSwitcherEntries.find((v) => v.active)" />
                    <Dropdown position="'bottom-end'" menuClass="'d-inline-flex'" togglerClass="'btn btn-link'">
                        <t t-set-slot="toggler">
                            <i class="fa fa-lg o_switch_view" t-attf-class="fa o_{{view.type}} {{view.icon}} {{view.active ? 'active' : ''}}" />
                        </t>
                        <t t-foreach="env.config.viewSwitcherEntries" t-as="view" t-key="view.type">
                            <button class="btn btn-light fa o_switch_view" t-attf-class="o_{{view.type}} {{view.icon}} {{view.active ? 'active' : ''}}" t-att-data-tooltip="view.name" t-on-click="onViewClicked(view.type)">
                                <t t-esc="view.name" />
                            </button>
                        </t>
                    </Dropdown>
                </nav>
            </t>
        </xpath>
        <xpath expr="//button[hasclass('o_enable_searchview')]" position="replace">
            <button type="button" class="o_enable_searchview btn btn-link fa fa-search" t-on-click="state.showMobileSearch = !state.showMobileSearch" />
        </xpath>
        <xpath expr="//t[@t-if='state.showSearchBar']" position="replace" />
    </t>
</templates>